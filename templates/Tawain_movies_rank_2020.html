
{% extends "base.html" %}
{% block title %}國際城市人口排行{% endblock %}
{% block content %}

<h1 class="display-6"><font color="#FFFFF" ><strong>2020前三十名排行</strong></font></h1>
<br>
<canvas id="myChart" width="400" height="200" style="background-color:white;"></canvas>


<script >

var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [
            {% for item in items %}
                '{{item.name}}',
            {% endfor %}
        ],
        datasets: [{
            axis: 'y',
            label: '累積銷售金額',
            data: [
                {% for item in items %}
                    {{ item.Total_Sale_Figure }},
                    
                {% endfor %}
            ],
            fill: true,
            
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        
        plugins: {
            legend: {
                
                labels: {
                    
                    // This more specific font property overrides the global property
                    font: {
                        size: 14,
                        style:'italic'
                    }
                }
            }
        }
    }
});
</script>

<br>


<h1 class="display-6"><font color="#FFFFF" ><strong>2021所有排行</strong></font></h1>

  
<table class='table table-striped table-bordered'>
    <tr>
          <td width="10%" align="center" valign="center"><span style="color:white;font-size:20px;">排名</span></td>
          <td width="10%" align="center" valign="center"><span style="color:white;font-size:20px;">國別地區</span></td>
          <td width="40%" align="center" valign="center"><span style="color:white;font-size:20px;">片名</span></td>
          <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">上印日期</span></td>
          <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">申請人</span></td>
          <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">累計銷售票數</span></td>   
          <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">累計銷售金額</span></td>  
    </tr>
    {% for item in items2 %}
      <tr>
        <td width="10%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.rank}}</span></td>
        <td width="40%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.area}}</span></td>
        <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.name}}</span></td>
        <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.dates}}</span></td>
        <td>
            <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal" >
                資訊
              </button>
              
              <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">申請人</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      {{item.applicant}}
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      
                    </div>
                  </div>
                </div>
              </div>
        </td>
        <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.tickets}}</span></td>
        <td width="25%" align="center" valign="center"><span style="color:white;font-size:20px;">{{item.Total_Sale_Figure}}</span></td>
      </tr>


      
    {% endfor %}
  
  </table>

{% endblock %}
